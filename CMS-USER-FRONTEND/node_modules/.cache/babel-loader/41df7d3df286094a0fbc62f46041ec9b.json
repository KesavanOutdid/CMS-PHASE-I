{"ast":null,"code":"var _jsxFileName = \"D:\\\\Vivek\\\\GIT\\\\CMS-PHASE-I\\\\CMS-USER-FRONTEND\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Redirect } from 'react-router-dom';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport Home from './pages/Home';\nimport PaymentSuccess from './pages/PaymentSuccess';\nimport PaymentUnsuccess from './pages/PaymentUnsuccess';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const storedUser = JSON.parse(sessionStorage.getItem('user'));\n  const [loggedIn, setLoggedIn] = useState(!!storedUser);\n  const [userInfo, setUserInfo] = useState(storedUser || {});\n  const [initialLoad, setInitialLoad] = useState(false);\n  useEffect(() => {\n    setInitialLoad(true);\n  }, []);\n\n  const handleLogin = (data, username) => {\n    setUserInfo({\n      username\n    });\n    setLoggedIn(true);\n    sessionStorage.setItem('user', JSON.stringify({\n      username\n    }));\n  };\n\n  const handleLogout = () => {\n    setLoggedIn(false);\n    setUserInfo({});\n    sessionStorage.removeItem('user');\n  };\n\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: [/*#__PURE__*/_jsxDEV(Route, {\n      path: \"/register\",\n      component: Register\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      exact: true,\n      path: \"/\",\n      children: loggedIn ? /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/Home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(Login, {\n        handleLogin: handleLogin\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 47\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/Home\",\n      children: loggedIn ? initialLoad ? /*#__PURE__*/_jsxDEV(Home, {\n        userInfo: userInfo,\n        handleLogout: handleLogout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(Home, {\n        userInfo: userInfo,\n        handleLogout: handleLogout,\n        setInitialLoad: setInitialLoad\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/PaymentSuccess\",\n      children: loggedIn ? /*#__PURE__*/_jsxDEV(PaymentSuccess, {\n        userInfo: userInfo,\n        handleLogout: handleLogout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 91\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/PaymentUnsuccess\",\n      children: loggedIn ? /*#__PURE__*/_jsxDEV(PaymentUnsuccess, {\n        userInfo: userInfo,\n        handleLogout: handleLogout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 93\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"P62BEBNBNcoqGjKw7Tos+E9kBDo=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Route","Redirect","Login","Register","Home","PaymentSuccess","PaymentUnsuccess","App","storedUser","JSON","parse","sessionStorage","getItem","loggedIn","setLoggedIn","userInfo","setUserInfo","initialLoad","setInitialLoad","handleLogin","data","username","setItem","stringify","handleLogout","removeItem"],"sources":["D:/Vivek/GIT/CMS-PHASE-I/CMS-USER-FRONTEND/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter as Router, Route, Redirect } from 'react-router-dom';\r\nimport Login from './components/Login';\r\nimport Register from './components/Register';\r\nimport Home from './pages/Home';\r\nimport PaymentSuccess from './pages/PaymentSuccess';\r\nimport PaymentUnsuccess from './pages/PaymentUnsuccess';  \r\n\r\nconst App = () => {\r\n  const storedUser = JSON.parse(sessionStorage.getItem('user'));\r\n  const [loggedIn, setLoggedIn] = useState(!!storedUser);\r\n\r\n  const [userInfo, setUserInfo] = useState(storedUser || {});\r\n  const [initialLoad, setInitialLoad] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setInitialLoad(true);\r\n  }, []);\r\n\r\n  const handleLogin = (data, username) => {\r\n    setUserInfo({ username });\r\n    setLoggedIn(true);\r\n    sessionStorage.setItem('user', JSON.stringify({ username }));\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    setLoggedIn(false);\r\n    setUserInfo({});\r\n    sessionStorage.removeItem('user');\r\n  };\r\n\r\n  return (\r\n    <Router>\r\n      <Route path=\"/register\" component={Register} />\r\n\r\n      {/* Redirect to Home if logged in, otherwise show Login */}\r\n      <Route exact path=\"/\">\r\n        {loggedIn ? <Redirect to=\"/Home\" /> : <Login handleLogin={handleLogin} />}\r\n      </Route>\r\n\r\n      {/* Home route */}\r\n      <Route path=\"/Home\">\r\n        {loggedIn ? (\r\n          initialLoad ? (\r\n            <Home userInfo={userInfo} handleLogout={handleLogout}/>\r\n          ) : (\r\n            <Home userInfo={userInfo} handleLogout={handleLogout} setInitialLoad={setInitialLoad} />\r\n          )\r\n        ) : (\r\n          <Redirect to=\"/\" />\r\n        )}\r\n      </Route>\r\n\r\n      {/* Redirect to PaymentSuccess if logged in, otherwise show Login */}\r\n      <Route path=\"/PaymentSuccess\">\r\n        {loggedIn ? <PaymentSuccess userInfo={userInfo}  handleLogout={handleLogout} /> : <Redirect to=\"/\" />}\r\n      </Route>\r\n\r\n      {/* Redirect to PaymentUnsuccess if logged in, otherwise show Login */}\r\n      <Route path=\"/PaymentUnsuccess\">\r\n        {loggedIn ? <PaymentUnsuccess userInfo={userInfo}  handleLogout={handleLogout} /> : <Redirect to=\"/\" />}\r\n      </Route>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,aAAa,IAAIC,MAA1B,EAAkCC,KAAlC,EAAyCC,QAAzC,QAAyD,kBAAzD;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,IAAP,MAAiB,cAAjB;AACA,OAAOC,cAAP,MAA2B,wBAA3B;AACA,OAAOC,gBAAP,MAA6B,0BAA7B;;;AAEA,MAAMC,GAAG,GAAG,MAAM;EAAA;;EAChB,MAAMC,UAAU,GAAGC,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,MAAvB,CAAX,CAAnB;EACA,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BlB,QAAQ,CAAC,CAAC,CAACY,UAAH,CAAxC;EAEA,MAAM,CAACO,QAAD,EAAWC,WAAX,IAA0BpB,QAAQ,CAACY,UAAU,IAAI,EAAf,CAAxC;EACA,MAAM,CAACS,WAAD,EAAcC,cAAd,IAAgCtB,QAAQ,CAAC,KAAD,CAA9C;EAEAC,SAAS,CAAC,MAAM;IACdqB,cAAc,CAAC,IAAD,CAAd;EACD,CAFQ,EAEN,EAFM,CAAT;;EAIA,MAAMC,WAAW,GAAG,CAACC,IAAD,EAAOC,QAAP,KAAoB;IACtCL,WAAW,CAAC;MAAEK;IAAF,CAAD,CAAX;IACAP,WAAW,CAAC,IAAD,CAAX;IACAH,cAAc,CAACW,OAAf,CAAuB,MAAvB,EAA+Bb,IAAI,CAACc,SAAL,CAAe;MAAEF;IAAF,CAAf,CAA/B;EACD,CAJD;;EAMA,MAAMG,YAAY,GAAG,MAAM;IACzBV,WAAW,CAAC,KAAD,CAAX;IACAE,WAAW,CAAC,EAAD,CAAX;IACAL,cAAc,CAACc,UAAf,CAA0B,MAA1B;EACD,CAJD;;EAMA,oBACE,QAAC,MAAD;IAAA,wBACE,QAAC,KAAD;MAAO,IAAI,EAAC,WAAZ;MAAwB,SAAS,EAAEtB;IAAnC;MAAA;MAAA;MAAA;IAAA,QADF,eAIE,QAAC,KAAD;MAAO,KAAK,MAAZ;MAAa,IAAI,EAAC,GAAlB;MAAA,UACGU,QAAQ,gBAAG,QAAC,QAAD;QAAU,EAAE,EAAC;MAAb;QAAA;QAAA;QAAA;MAAA,QAAH,gBAA6B,QAAC,KAAD;QAAO,WAAW,EAAEM;MAApB;QAAA;QAAA;QAAA;MAAA;IADxC;MAAA;MAAA;MAAA;IAAA,QAJF,eASE,QAAC,KAAD;MAAO,IAAI,EAAC,OAAZ;MAAA,UACGN,QAAQ,GACPI,WAAW,gBACT,QAAC,IAAD;QAAM,QAAQ,EAAEF,QAAhB;QAA0B,YAAY,EAAES;MAAxC;QAAA;QAAA;QAAA;MAAA,QADS,gBAGT,QAAC,IAAD;QAAM,QAAQ,EAAET,QAAhB;QAA0B,YAAY,EAAES,YAAxC;QAAsD,cAAc,EAAEN;MAAtE;QAAA;QAAA;QAAA;MAAA,QAJK,gBAOP,QAAC,QAAD;QAAU,EAAE,EAAC;MAAb;QAAA;QAAA;QAAA;MAAA;IARJ;MAAA;MAAA;MAAA;IAAA,QATF,eAsBE,QAAC,KAAD;MAAO,IAAI,EAAC,iBAAZ;MAAA,UACGL,QAAQ,gBAAG,QAAC,cAAD;QAAgB,QAAQ,EAAEE,QAA1B;QAAqC,YAAY,EAAES;MAAnD;QAAA;QAAA;QAAA;MAAA,QAAH,gBAAyE,QAAC,QAAD;QAAU,EAAE,EAAC;MAAb;QAAA;QAAA;QAAA;MAAA;IADpF;MAAA;MAAA;MAAA;IAAA,QAtBF,eA2BE,QAAC,KAAD;MAAO,IAAI,EAAC,mBAAZ;MAAA,UACGX,QAAQ,gBAAG,QAAC,gBAAD;QAAkB,QAAQ,EAAEE,QAA5B;QAAuC,YAAY,EAAES;MAArD;QAAA;QAAA;QAAA;MAAA,QAAH,gBAA2E,QAAC,QAAD;QAAU,EAAE,EAAC;MAAb;QAAA;QAAA;QAAA;MAAA;IADtF;MAAA;MAAA;MAAA;IAAA,QA3BF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAiCD,CAxDD;;GAAMjB,G;;KAAAA,G;AA0DN,eAAeA,GAAf"},"metadata":{},"sourceType":"module"}